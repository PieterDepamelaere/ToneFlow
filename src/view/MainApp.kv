#:kivy 1.11.1

#:import os os
#:import pl pathlib
#:import CU src.model.CommonUtils.CommonUtils
#:import toast kivymd.toast.toast


<MyNavigationDrawerIconButton@NavigationDrawerIconButton>
    badge_text: "#1"
    on_release:
        app.show_screen(root.text)
        app.set_title_toolbar(root.text)
        toast(root.text)


<ContentNavigationDrawer@MDNavigationDrawer>:

    drawer_logo: str(CU.tfs.dic['IMG_DIR_PATH'].value / "ToneFlow_Logo_Drawer.png")
    #drawer_title: "Menu:"

    NavigationDrawerSubheader:
        text: "Menu:"

    MyNavigationDrawerIconButton:
        icon: "playlist-music"
        text: "Playlists"

    MyNavigationDrawerIconButton:
        icon: "music-note"
        text: "Songs"

    NavigationDrawerDivider

    MyNavigationDrawerIconButton:
        icon: "settings"
        text: "Settings"

    MyNavigationDrawerIconButton:
        icon: "power"
        text: "Quit"
        on_release:
            lambda x:app.on_stop()

    #NavigationDrawerSubheader:
    #    text: "Second:"


NavigationLayout:
    id: nav_layout

    ContentNavigationDrawer:
        id: nav_drawer

    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            id: toolbar
            title: app.title
            md_bg_color: app.theme_cls.primary_color
            background_palette: 'Primary'
            background_hue: '500'
            elevation: 10
            left_action_items:
                [['menu', lambda x: app.root.toggle_nav_drawer()]]
            right_action_items:
                [['dots-vertical', lambda x: app.root.toggle_nav_drawer()]]

        Widget: